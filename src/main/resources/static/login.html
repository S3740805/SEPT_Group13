<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="loginStyle.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src='https://kit.fontawesome.com/a076d05399.js'></script>
</head>
<body>

<div class="container">
    <div id="bodyContainer" class="container-fluid">
        <div id="loginContainer" class="container">
            <div class=container style="text-align: center">
                <i id="loginStyle" class="fas fa-user-circle"></i>
            </div>
            <br />
            <div class="container">
                <input id="inputUsername" type="text" class="form-control" placeholder="Username"/>
                <input id="inputPassword" type="password" class="form-control" placeholder="Password"/>
                <div style="text-align: center">
                    <button id="buttonStyle" type="submit" class="btn btn-primary" onclick="verifyLogin()">Login </button>
                </div>
                <div style="text-align: center; padding-top: 2%">
                    <span class="trouble-login" ><small>Create an account</small></span>
                    <br>
                    <span class="trouble-login"><small>Forgot username/password?</small></span>
                </div>

            </div>
        </div>
    </div>
</div>
</body>
</html>

<script>
function verifyLogin(){
    let inputUsername = document.getElementById('inputUsername').value;
    let inputPassword = document.getElementById('inputPassword').value;
    fetch('http://localhost:8080/patients')
        .then(res => res.json())
        .then(json => {
            let done = false;
            for(let i = 0; i<json.length; i++){
                let username = json[i].username;
                let password = json[i].password;
                //console.log(username,password)
                if (username === inputUsername && password === inputPassword){
                    alert("Login OK!")
                    done = true
                    break
                }
            }
            if (done === false){
                alert("Login fail lol")
            }
        })
}

</script>